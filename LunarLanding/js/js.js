function start(){timer=setInterval(function(){moverNave()},1e3*dt),pause=!1}function stop(){clearInterval(timer),pause=!0}function restart(){stop(),y=90,v=0,fuel=100,document.getElementById("fuel").innerHTML=fuel,document.getElementById("fin").style.display="none",comenzado=!0,gameOver=!1,motorOff(),hideMenu(),document.getElementById("play").blur()}function moverNave(){0==fuel&&(a=g),v+=a*dt,document.getElementById("velocidad").innerHTML=v.toFixed(2),y-=v*dt,document.getElementById("altura").innerHTML=(y-20).toFixed(2),y>20?document.getElementById("nave").style.top=100-y+"%":(stop(),document.getElementById("altura").innerHTML=0,clearInterval(timerFuel),v>maxv?lose():win())}function win(){gameOver=!1,document.getElementById("cohete").src="img/CoheteSinFuego.png",document.getElementById("fin").style.display="block",document.getElementById("fin").style.color="green",document.getElementById("fin").innerHTML="¡Enhorabuena comandante! Misión cumplida con éxito."}function lose(){gameOver=!0,document.getElementById("cohete").src="img/explosion.png",document.getElementById("fin").style.display="block",document.getElementById("fin").style.color="red",document.getElementById("fin").innerHTML="Misión fallida. Es una vergüenza para los de su especie, comandante."}function motorOn(){fuel>0&&(a=-g,null==timerFuel&&(timerFuel=setInterval(function(){actualizarFuel()},10),document.getElementById("cohete").src="img/Cohete.png"))}function motorOff(){a=g,clearInterval(timerFuel),timerFuel=null,document.getElementById("cohete").src="img/CoheteSinFuego.png",gameOver&&(document.getElementById("cohete").src="img/explosion.png")}function actualizarFuel(){fuel>0?(fuel-=.1,document.getElementById("fuel").innerHTML=fuel.toFixed(1)):(motorOff(),document.getElementById("fuel").innerHTML=0)}function showMenu(){document.getElementsByClassName("c")[0].style.display="block",stop(),document.getElementById("showm").style.height="36px",document.getElementById("showm").style.width="36px"}function hideMenu(){comenzado&&(document.getElementsByClassName("c")[0].style.display="none",start(),document.getElementById("showm").style.height="48px",document.getElementById("showm").style.width="48px")}function pauseResume(){comenzado&&y>20&&(pause?(start(),document.getElementById("pausa").innerHTML="Pausa"):(stop(),document.getElementById("pausa").innerHTML="Continuar")),document.getElementById("pausa").blur()}function showConfig(){stop(),document.getElementsByClassName("configuracion")[0].style.display="block",document.getElementsByClassName("c")[0].style.display="none",document.getElementById("config").blur()}function hideConfig(){document.getElementsByClassName("configuracion")[0].style.display="none",document.getElementsByClassName("c")[0].style.display="block"}function changeDifficulty(){var e=document.getElementsByTagName("input")[0].value;"Fácil"==e?(document.getElementsByTagName("input")[0].style.color="orange",document.getElementsByTagName("input")[0].value="Medio",maxv=5):"Medio"==e?(document.getElementsByTagName("input")[0].style.color="red",document.getElementsByTagName("input")[0].value="Difícil",maxv=1):(document.getElementsByTagName("input")[0].style.color="green",document.getElementsByTagName("input")[0].value="Fácil",maxv=7)}var y=90,v=0,g=4,a=g,dt=.016683,timer=null,timerFuel=null,fuel=100,maxv=7,pause=!0,comenzado=!1,apretado=!1,gameOver=!1;window.onload=function(){document.getElementById("showm").onclick=showMenu,document.getElementById("hidem").onclick=hideMenu,document.getElementById("play").onclick=restart,document.getElementById("pausa").onclick=pauseResume,document.onkeypress=function(e){var t=e.which||e.keyCode;(80==t||112==t)&&pauseResume()},document.getElementById("config").onclick=showConfig,document.getElementById("hideconfig").onclick=hideConfig,document.getElementsByTagName("input")[0].onclick=changeDifficulty,document.onkeydown=function(e){var t=e.which||e.keyCode;32==t&&(apretado||(apretado=!0,a==g&&y>20&&!pause?motorOn():motorOff()))},document.onkeyup=function(){apretado=!1,motorOff()},document.ontouchstart=function(){apretado||(apretado=!0,a==g&&y>20&&!pause?motorOn():motorOff())},document.ontouchend=function(){apretado=!1,motorOff()},document.getElementsByClassName("c")[0].style.display="block"};
